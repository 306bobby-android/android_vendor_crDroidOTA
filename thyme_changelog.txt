Highlights & Device Specific Changes:
Build type: Weekly
Device: Mi 10S (thyme)
Device maintainer: Fuutao
Required firmware: OS1.0.4.0.TGACNXM

====================
     08-30-2024
====================

   * build/make
36ca562 Revert "Add DeviceAsWebcam to general handheld_system"

   * frameworks/base
3153fd39b Binder: avoid GC while holding lock


   *    * tools/extract-utils
tools/extract-utils
ffc1ea0 extract-utils: use git apply instead of patch in apktool_patch
ffc1ea0 extract-utils: use git apply instead of patch in apktool_patch
64d350b fixup! extract-utils: make image extraction follow symlinks as well
64d350b fixup! extract-utils: make image extraction follow symlinks as well


   *    * vendor/lineage
vendor/lineage
b5aff4f crdroid: Adding an option to build DeviceAsWebcam
b5aff4f crdroid: Adding an option to build DeviceAsWebcam


====================
     08-29-2024
====================
====================
     08-29-2024
====================

   * device/lineage/sepolicy
413972d Merge 'lineage-21.0' into 14.0

   * device/lineage/sepolicy
413972d Merge 'lineage-21.0' into 14.0


   *    * frameworks/base
frameworks/base
c7676bdb2 New Crowdin updates (#1139)
c7676bdb2 New Crowdin updates (#1139)

   * packages/apps/GameSpace
f51d89f New Crowdin updates (#86)

   * packages/apps/GameSpace
f51d89f New Crowdin updates (#86)

   * packages/apps/crDroidSettings
4e239c5 New Crowdin updates (#1166)

   * packages/apps/crDroidSettings
4e239c5 New Crowdin updates (#1166)


====================
     08-28-2024
====================
====================
     08-28-2024
====================

   * frameworks/base
07b84b919 PackageInstaller: fix NPE due to a race condition in PackageUtil
72c76f129 SystemUI: Properly inject TunerService for PhoneStatusBarPolicy
83a56ba3f fixup! SystemUI: Refactor statusbar bluetooth icon

   * frameworks/base
07b84b919 PackageInstaller: fix NPE due to a race condition in PackageUtil
72c76f129 SystemUI: Properly inject TunerService for PhoneStatusBarPolicy
83a56ba3f fixup! SystemUI: Refactor statusbar bluetooth icon

   * packages/services/DeviceAsWebcam

36ee61f Import translations. DO NOT MERGE ANYWHERE
cded9e2 Import translations. DO NOT MERGE ANYWHERE
   * e5bce48 Import translations. DO NOT MERGE ANYWHERE
packages/services/DeviceAsWebcam
36ee61f Import translations. DO NOT MERGE ANYWHERE
cded9e2 Import translations. DO NOT MERGE ANYWHERE
e5bce48 Import translations. DO NOT MERGE ANYWHERE

   * tools/extract-utils
d3a9b40 extract_utils: Consistency fixes
167c568 extract-utils: add STEM on EXECUTABLES as well
17eb9d0 extract_utils: Fix reusing radio images
931c8f8 extract_utils: Add helper functions that lived in regen-vendor.sh
e383679 extract_utils: Use uppercase variables everywhere
a347b38 extract_utils: Remove image_dir when generate_prop_list_from_image is done
d69e5ed templates: Add carriersettings extract example
db7d3c8 extract_utils: generate_prop_list_from_image impovements
062352d extract-utils: keep radio images when KEEP_DUMP is set and allow reusing them
44fda80 extract-utils: prepare images before firmware extraction if not done yet
b94b44f extract-utils: avoid failure to find zipmd5.txt on first extraction
bdba0db extract-utils: remove variable assignment subshell quoting
e5371a9 extract-utils: make use of BINARIES_LOCATION in oat2dex
b8380a3 extract-utils: fix issues reported by shellcheck
e778aab extract-utils: run shfmt
5b9d345 extract_utils: Reuse extracted directory if existing
1ec3b43 templates: Add lib_to_package_fixup example
16ff947 templates: Add vendor_imports example
1b6cc1a extract_utils: Fix libclang_rt.ubsan_standalone dependencies
518db9b extract-utils: do not use x for missing hashes
962f2b3 extract-utils: do not chmod manually
f1dc446 extract-utils: allow opting out of XML fixing
b7cf217 extract-utils: allow sha1sum optimization
24158a7 extract-utils: remove Darwin support
d47f1a5 extract-utils: optimize blob dir creation
ded25cb extract-utils: clean up blueprint package generation
a2e8186 extract-utils: optimize file copy
5cc3752 extract-utils: optimize spec splitting

   * tools/extract-utils
d3a9b40 extract_utils: Consistency fixes
167c568 extract-utils: add STEM on EXECUTABLES as well
17eb9d0 extract_utils: Fix reusing radio images
931c8f8 extract_utils: Add helper functions that lived in regen-vendor.sh
e383679 extract_utils: Use uppercase variables everywhere
a347b38 extract_utils: Remove image_dir when generate_prop_list_from_image is done
d69e5ed templates: Add carriersettings extract example
db7d3c8 extract_utils: generate_prop_list_from_image impovements
062352d extract-utils: keep radio images when KEEP_DUMP is set and allow reusing them
44fda80 extract-utils: prepare images before firmware extraction if not done yet
b94b44f extract-utils: avoid failure to find zipmd5.txt on first extraction
bdba0db extract-utils: remove variable assignment subshell quoting
e5371a9 extract-utils: make use of BINARIES_LOCATION in oat2dex
b8380a3 extract-utils: fix issues reported by shellcheck
e778aab extract-utils: run shfmt
5b9d345 extract_utils: Reuse extracted directory if existing
1ec3b43 templates: Add lib_to_package_fixup example
16ff947 templates: Add vendor_imports example
1b6cc1a extract_utils: Fix libclang_rt.ubsan_standalone dependencies
518db9b extract-utils: do not use x for missing hashes
962f2b3 extract-utils: do not chmod manually
f1dc446 extract-utils: allow opting out of XML fixing
b7cf217 extract-utils: allow sha1sum optimization
24158a7 extract-utils: remove Darwin support
d47f1a5 extract-utils: optimize blob dir creation
ded25cb extract-utils: clean up blueprint package generation
a2e8186 extract-utils: optimize file copy
5cc3752 extract-utils: optimize spec splitting


   *    * vendor/lineage
vendor/lineage
e3af040 crdroid: Disable app launch blur
e3af040 crdroid: Disable app launch blur


====================
     08-27-2024
====================
====================
     08-27-2024
====================

   * frameworks/av
7a75e0f MPEG4Writer: Fix unsigned integer overflow
c6a97d0 audio policy: invalidate tracks when selected devices become unreachable

   * frameworks/av
7a75e0f MPEG4Writer: Fix unsigned integer overflow
c6a97d0 audio policy: invalidate tracks when selected devices become unreachable

   * frameworks/base
ab7ddc179 Fix splashscreen VRI leak

   * frameworks/base
ab7ddc179 Fix splashscreen VRI leak

   * hardware/qcom-caf/sm8350/display
a139cbd7 composer: Separate rc and xml from service

   * hardware/qcom-caf/sm8350/display
a139cbd7 composer: Separate rc and xml from service

   * packages/apps/Aperture
48ba5fc Aperture: Add support for mute button and mic mute gesture
1e1064c Aperture: Dynamically fill the gestures settings
1b1631b Aperture: Rework keys handling
593f353 Aperture: Remove unused imports

   * packages/apps/Aperture
48ba5fc Aperture: Add support for mute button and mic mute gesture
1e1064c Aperture: Dynamically fill the gestures settings
1b1631b Aperture: Rework keys handling
593f353 Aperture: Remove unused imports

   * packages/apps/Settings
6d86c1819 Setting: batteryinfo: Add config to enable/disable battery design & maximum capacity info

d2c0a4b3d Fix memory leak on sensormanager
   * packages/apps/Settings
6d86c1819 Setting: batteryinfo: Add config to enable/disable battery design & maximum capacity info
d2c0a4b3d Fix memory leak on sensormanager

   * prebuilts/extract-tools
80d4534 extract-tools: remove Darwin support

   * prebuilts/extract-tools
80d4534 extract-tools: remove Darwin support

   * tools/extract-utils
f525f9f extract-utils: optimize hashes handling
5b7905a extract-utils: only call src_file once when checking suffix
dd55d6f extract-utils: dedupe lists generation

   * tools/extract-utils
f525f9f extract-utils: optimize hashes handling
5b7905a extract-utils: only call src_file once when checking suffix
dd55d6f extract-utils: dedupe lists generation


====================
     08-26-2024
====================
====================
     08-26-2024
====================


   *    * device/xiaomi/thyme
device/xiaomi/thyme
4514464 thyme: sepolicy: Fix multiple different specifications errors
4514464 thyme: sepolicy: Fix multiple different specifications errors

   * frameworks/base
9f98baee2 Remove default action for three finger swipe
cf1a02105 services: Simplify registering for three fingers swipe actions

   * frameworks/base
9f98baee2 Remove default action for three finger swipe
cf1a02105 services: Simplify registering for three fingers swipe actions

   * lineage-sdk

70785c4 Remove default action for three finger swipe
   * lineage-sdk
70785c4 Remove default action for three finger swipe

   * packages/apps/Aperture
1304872 Aperture: Remove unused variables
30b7c1f Aperture: Update AGP to 8.5.2
d9c8f64 Aperture: Update Gradle wrapper to 8.10
ea05e1d Aperture: Fix alert dialog selection shadow in settings

   * packages/apps/Aperture
1304872 Aperture: Remove unused variables
30b7c1f Aperture: Update AGP to 8.5.2
d9c8f64 Aperture: Update Gradle wrapper to 8.10
ea05e1d Aperture: Fix alert dialog selection shadow in settings

   * packages/apps/GameSpace
85cd48e GameSpace: Remove default action for three finger swipe

   * packages/apps/GameSpace
85cd48e GameSpace: Remove default action for three finger swipe

   * packages/apps/Launcher3
d8114f0 New Crowdin updates (#431)

   * packages/apps/Launcher3
d8114f0 New Crowdin updates (#431)

   * packages/apps/crDroidSettings
1df960e crdroid: Remove default action for three finger swipe

   * packages/apps/crDroidSettings
1df960e crdroid: Remove default action for three finger swipe


====================
     08-25-2024
====================
====================
     08-25-2024
====================


   *    * frameworks/base
frameworks/base
3c0c547eb services: Add NPE check for updating system app from play store
3c0c547eb services: Add NPE check for updating system app from play store


   *    * packages/apps/Eleven
packages/apps/Eleven
860226d Eleven: Fix visualizer capture
860226d Eleven: Fix visualizer capture

   * packages/apps/Nfc

   * d208a551 add exception catch to avoid java.lang.IllegalAccessException error
3e413ba1 nfc(app): Skip routing changes when polling is disabled
143e7ceb nfc: Convert nfc icon to vector format
26876f31 nfc: Allow nfc icon to be overlayed
c2c4f544 add a judgment operation before executing mRoutingWakeLock.release() to prevent java.lang.RuntimeException: WakeLock under-locked NfcService:mRoutingWakeLock error
packages/apps/Nfc
d208a551 add exception catch to avoid java.lang.IllegalAccessException error
3e413ba1 nfc(app): Skip routing changes when polling is disabled
143e7ceb nfc: Convert nfc icon to vector format
26876f31 nfc: Allow nfc icon to be overlayed
c2c4f544 add a judgment operation before executing mRoutingWakeLock.release() to prevent java.lang.RuntimeException: WakeLock under-locked NfcService:mRoutingWakeLock error


   *    * vendor/lineage
vendor/lineage
17c10d3 overlay: Update globally disabled components list
17c10d3 overlay: Update globally disabled components list
b25520a overlay: Add gms location history to extra location packages
b25520a overlay: Add gms location history to extra location packages


====================
     08-24-2024
====================
====================
     08-24-2024
====================

   * device/lineage/sepolicy
2275b98 common: add legacy vibrator AIDL

   * device/lineage/sepolicy
2275b98 common: add legacy vibrator AIDL

   * 
   * external/chromium-webview/patches
3dac5df Update Chromium Webview to 128.0.6613.88
external/chromium-webview/patches
3dac5df Update Chromium Webview to 128.0.6613.88

   * external/chromium-webview/prebuilt/arm
ebbbdeb Update Chromium Webview arm prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/arm
ebbbdeb Update Chromium Webview arm prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/arm64
b81dde0 Update Chromium Webview arm64 prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/arm64
b81dde0 Update Chromium Webview arm64 prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/x86
6694b14 Update Chromium Webview x86 prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/x86
6694b14 Update Chromium Webview x86 prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/x86_64
51ded2d Update Chromium Webview x86_64 prebuilt to 128.0.6613.88

   * external/chromium-webview/prebuilt/x86_64
51ded2d Update Chromium Webview x86_64 prebuilt to 128.0.6613.88

   * frameworks/base
a932fb9b0 Spoof a valid certificate chain for hardware attestations
fb1336864 PixelPropsUtils: Clean up blocking key attestation
052d568ab Revert "Keystore: Spoof locked bootloader on local attestations"
01db27688 ThemeUtils: Use current user for THEME_CUSTOMIZATION_OVERLAY_PACKAGES
a87aa9b80 SystemUI: Update track title and artist on metadata change
53ba36a03 New translations (#1130)

   * frameworks/base
a932fb9b0 Spoof a valid certificate chain for hardware attestations
fb1336864 PixelPropsUtils: Clean up blocking key attestation
052d568ab Revert "Keystore: Spoof locked bootloader on local attestations"
01db27688 ThemeUtils: Use current user for THEME_CUSTOMIZATION_OVERLAY_PACKAGES
a87aa9b80 SystemUI: Update track title and artist on metadata change
53ba36a03 New translations (#1130)

   * frameworks/native

3ef37545e Disable useless Keystore features
   * frameworks/native
3ef37545e Disable useless Keystore features

   * hardware/lineage/interfaces
239c373 vibrator: port default HIDL service to AIDL
9ed3b03 fingerprint: Include VINTF fragment

   * hardware/lineage/interfaces
239c373 vibrator: port default HIDL service to AIDL
9ed3b03 fingerprint: Include VINTF fragment


   *    * packages/apps/GameSpace
packages/apps/GameSpace
7428498 New Crowdin updates (#85)
7428498 New Crowdin updates (#85)

   * packages/apps/Launcher3
32c2d1f New translations (#429)

   * packages/apps/Launcher3
32c2d1f New translations (#429)


   *    * packages/apps/crDroidSettings
packages/apps/crDroidSettings
7824a3a crdroid: DeviceUtils: Clean up unused functions
7824a3a crdroid: DeviceUtils: Clean up unused functions
6d9a11e New Crowdin updates (#1165)
6d9a11e New Crowdin updates (#1165)

   * tools/extract-utils
b80852c extract-utils: Add -N arg to apktool patching
3a49524 extract-utils: generate deps even for blobs with DISABLE_CHECKELF
87c8379 extract-utils: Use vendorcompat protobuf for 3.9.1
a1fa002 extract-utils: cleanup shared library finding
d828677 extract-utils: use bundled llvm-objdump

   * tools/extract-utils
b80852c extract-utils: Add -N arg to apktool patching
3a49524 extract-utils: generate deps even for blobs with DISABLE_CHECKELF
87c8379 extract-utils: Use vendorcompat protobuf for 3.9.1
a1fa002 extract-utils: cleanup shared library finding
d828677 extract-utils: use bundled llvm-objdump


====================
     08-23-2024
====================
====================
     08-23-2024
====================

   * device/lineage/sepolicy
c2415e4 Merge 'lineage-21.0' into 14.0

   * device/lineage/sepolicy
c2415e4 Merge 'lineage-21.0' into 14.0


   *    * frameworks/base
frameworks/base
3360c28ae services: Intercept locked apps launching from recents
8dbd7a995 fixup! Improvements for three fingers swipe actions
3360c28ae services: Intercept locked apps launching from recents
8dbd7a995 fixup! Improvements for three fingers swipe actions

   * hardware/lineage/compat
2507399 compat: Provide libstagefright_foundation-v33
de40ec9 compat: Provide libbase-v33

   * hardware/lineage/compat
2507399 compat: Provide libstagefright_foundation-v33
de40ec9 compat: Provide libbase-v33

   * vendor/lineage
7c9815a soong: add powershare configs

   * vendor/lineage
7c9815a soong: add powershare configs


====================
     08-22-2024
====================
====================
     08-22-2024
====================

   * device/lineage/sepolicy
26d1da8 sepolicy: label default powershare implementation

   * device/lineage/sepolicy
26d1da8 sepolicy: label default powershare implementation

   * device/qcom/sepolicy_vndr/sm8550
52e9556e sepolicy: add missing sepolicy rules for kalama
12aff576 sepolicy: add sys_module capability for hal_wifi_default
94ca8002 sepolicy: Label vendor.qti.ims.factoryaidlservice.IImsFactory
a3871937 sepolicy: Move some AIDL rules to common policy

   * device/qcom/sepolicy_vndr/sm8550
52e9556e sepolicy: add missing sepolicy rules for kalama
12aff576 sepolicy: add sys_module capability for hal_wifi_default
94ca8002 sepolicy: Label vendor.qti.ims.factoryaidlservice.IImsFactory
a3871937 sepolicy: Move some AIDL rules to common policy

   * frameworks/base
6e6cccd0e SystemUI: Remove unnecessary updates for QS tiles layout
2a937f828 PixelPropsUtils: Update model for call of duty to Lenovo Y700

   * frameworks/base
6e6cccd0e SystemUI: Remove unnecessary updates for QS tiles layout
2a937f828 PixelPropsUtils: Update model for call of duty to Lenovo Y700

   * hardware/lineage/interfaces
bd66d5b powershare: add default implementation

   * hardware/lineage/interfaces
bd66d5b powershare: add default implementation

   * hardware/qcom-caf/sm8250/display
d73abb32 Convert some display libraries to blueprint

   * hardware/qcom-caf/sm8250/display
d73abb32 Convert some display libraries to blueprint

   * hardware/qcom-caf/sm8450/audio/pal
752ec99c pal: replace LOCAL_C_INCLUDES with libarpal_headers
34da01a5 fixup! pal: create libpal_headers module

   * hardware/qcom-caf/sm8450/audio/pal
752ec99c pal: replace LOCAL_C_INCLUDES with libarpal_headers
34da01a5 fixup! pal: create libpal_headers module

   * packages/apps/Nfc
9d33f8cb It is recommended to check whether the adapter object is empty before calling CardEmulation.getInstance().

   * packages/apps/Nfc
9d33f8cb It is recommended to check whether the adapter object is empty before calling CardEmulation.getInstance().

   * tools/extract-utils
ed53b67 extract_utils: Ignore extra flags during sort

   * tools/extract-utils
ed53b67 extract_utils: Ignore extra flags during sort

   * vendor/lineage
5cda8c6 Revert "cm: enable lockscreen rotation option"
f5b7546 overlay: Do not set config_defaultAutofillService

   * vendor/lineage
5cda8c6 Revert "cm: enable lockscreen rotation option"
f5b7546 overlay: Do not set config_defaultAutofillService


====================
     08-21-2024
====================
====================
     08-21-2024
====================

   * android
4036ea7 manifest: Update prebuilt clang to 19.0.1

   * android
4036ea7 manifest: Update prebuilt clang to 19.0.1

   * frameworks/base
2cd7571bd Improvements for three fingers swipe actions
f5e9466a8 VPN: fix crash on missing CCM
d9b463a2a Add three fingers swipe actions [2/3]
cd9eed7bb PhoneWindowManager: Prevent NPE with voice search action
20dea426d Revert "Improvements for swipe to screenshot"
2d6c33dfd Revert "base: Add three-fingers-swipe to screenshot [1/2]"
b34a08572 Revert "SwipeToScreenshot: Import MIUI implementation"

   * frameworks/base
2cd7571bd Improvements for three fingers swipe actions
f5e9466a8 VPN: fix crash on missing CCM
d9b463a2a Add three fingers swipe actions [2/3]
cd9eed7bb PhoneWindowManager: Prevent NPE with voice search action
20dea426d Revert "Improvements for swipe to screenshot"
2d6c33dfd Revert "base: Add three-fingers-swipe to screenshot [1/2]"
b34a08572 Revert "SwipeToScreenshot: Import MIUI implementation"


   *    * hardware/qcom-caf/sm8550/audio/pal
hardware/qcom-caf/sm8550/audio/pal
2e928e92 Disable 32 bit variants of audio libraries for 64 bit audio targets
2e928e92 Disable 32 bit variants of audio libraries for 64 bit audio targets

   * hardware/qcom-caf/sm8550/audio/primary-hal

e0fe270 Disable 32 bit variants of audio libraries for 64 bit audio targets
   * hardware/qcom-caf/sm8550/audio/primary-hal
e0fe270 Disable 32 bit variants of audio libraries for 64 bit audio targets


   *    * lineage-sdk
lineage-sdk
aa2b970 Add three fingers swipe actions [1/3]
aa2b970 Add three fingers swipe actions [1/3]

   * packages/apps/Aperture
a7f50c1 Aperture: Fix front camera intent preview mirroring
5f6aa26 Aperture: Update CameraX to 1.4.0-rc01

   * packages/apps/Aperture
a7f50c1 Aperture: Fix front camera intent preview mirroring
5f6aa26 Aperture: Update CameraX to 1.4.0-rc01

   * packages/apps/GameSpace
afb93dc GameSpace: Update for three fingers gesture

   * packages/apps/GameSpace
afb93dc GameSpace: Update for three fingers gesture

   * packages/apps/crDroidSettings
96c6207 Add three fingers swipe actions [3/3]
0d18893 crdroid: Remove three finger swipe to screenshot

   * packages/apps/crDroidSettings
96c6207 Add three fingers swipe actions [3/3]
0d18893 crdroid: Remove three finger swipe to screenshot

   * packages/services/DeviceAsWebcam
6ed6827 Refactor DeviceAsWebcam into interface and impl.
6ac4028 Handle all cutout insets
246f539 Add PREUPLOAD.cfg for DeviceAsWebcam
4c38e90 Round zoom ratio from seekbar to one decimal place

   * packages/services/DeviceAsWebcam
6ed6827 Refactor DeviceAsWebcam into interface and impl.
6ac4028 Handle all cutout insets
246f539 Add PREUPLOAD.cfg for DeviceAsWebcam
4c38e90 Round zoom ratio from seekbar to one decimal place

   * prebuilts/clang/host/linux-x86/clang-latest
cd6be39 clang 19.0.1 (based on r536225) from build 12251623

   * prebuilts/clang/host/linux-x86/clang-latest
cd6be39 clang 19.0.1 (based on r536225) from build 12251623


